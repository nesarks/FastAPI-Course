# Day 11–14: Query Parameters in FastAPI

## Overview
Query parameters allow you to pass optional inputs to your API endpoints through the URL. In this session, you'll learn how to handle query parameters and add validations.

---

## What Are Query Parameters?

Query parameters are key-value pairs appended to the URL after a `?`. For example:
```
GET /items?name=apple&price=10
```
Here, `name` and `price` are query parameters.

---

## Syntax for Query Parameters in FastAPI

1. Define query parameters as function arguments in the route handler.
2. Use `Query` from `fastapi` to add constraints or provide default values.

Example:
```python
from fastapi import FastAPI, Query

app = FastAPI()

@app.get("/items/")
def read_items(name: str = Query(None), price: float = Query(None)):
    return {"name": name, "price": price}
```

---

## Validating Query Parameters

1. **Default Values**
   - Use `Query` to set default values for parameters.
   Example:
   ```python
   @app.get("/items/")
   def read_items(name: str = Query("default"), price: float = Query(10.0)):
       return {"name": name, "price": price}
   ```

2. **Constraints**
   - Add constraints like `min_length`, `max_length`, `regex`, etc.
   Example:
   ```python
   @app.get("/items/")
   def read_items(
       name: str = Query(..., min_length=3, max_length=50),
       price: float = Query(..., ge=0, le=100)
   ):
       return {"name": name, "price": price}
   ```

---

## Interactive Exercise

### Task 1: Add Query Parameters
1. Add a query parameter `category` to the `/items/` endpoint.
2. Return the `category` in the JSON response.

### Task 2: Add Validation
1. Ensure the `category` has a minimum length of 3 and a maximum length of 20 characters.
2. Add another query parameter `limit` with a default value of 10 and ensure it’s between 1 and 100.

### Task 3: Combine Path and Query Parameters
1. Modify the `/items/{item_id}` route to accept an optional query parameter `q`.
2. Return both `item_id` and `q` in the response.

---

## Summary
By the end of this session, you should:
- Understand how to use query parameters in FastAPI.
- Add constraints and validations to query parameters.
- Combine query and path parameters in your application.

---

## Additional Resources
- [FastAPI Query Parameters Documentation](https://fastapi.tiangolo.com/tutorial/query-params/)